<div class="home-page">
  <!-- Section Hero -->
  <section class="hero">
    <div class="hero-content">
      <h1>Rechargez votre v√©hicule √©lectrique facilement</h1>
      <p>Trouvez, r√©servez et utilisez des bornes de recharge partout en France</p>
      <div class="hero-buttons">
        <a routerLink="/bornes" class="btn btn-primary">Trouver une borne</a>
        <a routerLink="/auth/register" class="btn btn-outline">Cr√©er un compte</a>
      </div>
    </div>
    <div class="hero-image">
      <img src="https://images.unsplash.com/photo-1593941707882-a5bfb6051d1b?ixlib=rb-4.0.1&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="V√©hicule √©lectrique en charge" />
    </div>
  </section>

  <!-- Section Comment √ßa marche -->
  <section class="how-it-works">
    <h2 class="section-title">Comment √ßa marche</h2>
    <div class="steps">
      <div class="step">
        <div class="step-icon">
          <span>1</span>
        </div>
        <h3>Trouvez une borne</h3>
        <p>Localisez facilement les bornes de recharge disponibles pr√®s de chez vous ou sur votre itin√©raire.</p>
      </div>
      <div class="step">
        <div class="step-icon">
          <span>2</span>
        </div>
        <h3>R√©servez votre cr√©neau</h3>
        <p>S√©lectionnez l'heure qui vous convient et r√©servez votre session de recharge en quelques clics.</p>
      </div>
      <div class="step">
        <div class="step-icon">
          <span>3</span>
        </div>
        <h3>Rechargez votre v√©hicule</h3>
        <p>Pr√©sentez-vous √† la borne, connectez votre v√©hicule et rechargez en toute simplicit√©.</p>
      </div>
    </div>
  </section>

  <!-- Section Carte publique des bornes -->
  <section class="public-map">
    <h2 class="section-title">Bornes disponibles autour de vous</h2>
    <p class="section-subtitle">D√©couvrez les bornes de recharge disponibles sans avoir besoin de cr√©er un compte</p>
    
    <!-- Carte interactive Leaflet -->
    <div class="map-wrapper">
      <div id="public-map" class="map-display"></div>
      
      <div *ngIf="isLoading" class="loading-overlay">
        <div class="spinner"></div>
        <p>Chargement des bornes...</p>
      </div>
    </div>

    <!-- Liste des bornes sous la carte -->
    <div class="bornes-section" *ngIf="!isLoading && bornesPubliques.length > 0">
      <h3>{{ bornesPubliques.length }} borne(s) disponible(s)</h3>
      <div class="bornes-grid">
        <div *ngFor="let borne of bornesPubliques" class="borne-card">
          <div class="borne-header">
            <h3>{{ borne.localisation }}</h3>
            <span class="borne-status" [ngClass]="{
              'disponible': borne.etat === 'DISPONIBLE',
              'occupee': borne.etat === 'OCCUPE',
              'hors-service': borne.etat !== 'DISPONIBLE' && borne.etat !== 'OCCUPE'
            }">
              {{ borne.etat === 'DISPONIBLE' ? 'Disponible' : (borne.etat === 'OCCUPE' ? 'Occup√©e' : 'Hors service') }}
            </span>
          </div>
          
          <div class="borne-details">
            <div class="detail-row">
              <span class="icon">‚ö°</span>
              <span>{{ borne.type }}</span>
            </div>
            <div class="detail-row">
              <span class="icon">üîå</span>
              <span>{{ borne.puissance }} kW</span>
            </div>
            <div class="detail-row">
              <span class="icon">üí∞</span>
              <span>{{ borne.prix }}‚Ç¨/heure</span>
            </div>
            <div class="detail-row" *ngIf="borne.latitude && borne.longitude && userLocation">
              <span class="icon">üìç</span>
              <span>{{ calculateDistance(borne.latitude, borne.longitude) | number:'1.1-1' }} km</span>
            </div>
          </div>

          <div class="borne-footer">
            <button 
              class="btn btn-primary btn-sm" 
              (click)="navigateToReservation(borne)"
              [disabled]="borne.etat !== 'DISPONIBLE'">
              <i class="bi bi-calendar-check"></i> R√©server
            </button>
            <button 
              class="btn btn-outline btn-sm" 
              (click)="centerMapOnBorne(borne)">
              <i class="bi bi-geo-alt"></i> Voir sur la carte
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="empty-state" *ngIf="!isLoading && bornesPubliques.length === 0">
      <i class="bi bi-lightning-charge" style="font-size: 48px; color: #ccc;"></i>
      <p>Aucune borne disponible pour le moment</p>
    </div>
  </section>

  <!-- Section Fonctionnalit√©s -->
  <section class="features">
    <h2 class="section-title">Nos services</h2>
    <div class="feature-cards">
      <div class="feature-card">
        <div class="feature-icon">
          <img src="https://images.unsplash.com/photo-1582550740000-5e4f83e06359?ixlib=rb-4.0.1&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Carte de bornes de recharge" class="feature-image">
        </div>
        <h3>Trouvez des bornes</h3>
        <p>Localisez facilement les bornes de recharge pr√®s de chez vous</p>
        <a routerLink="/bornes" class="btn btn-primary">Voir les bornes</a>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <img src="https://images.unsplash.com/photo-1633114128174-2f8aa49759b0?ixlib=rb-4.0.1&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="R√©servation de borne" class="feature-image">
        </div>
        <h3>R√©servez une borne</h3>
        <p>Planifiez vos recharges √† l'avance</p>
        <a routerLink="/reservation" class="btn btn-primary">R√©server</a>
      </div>
    </div>
  </section>

  <!-- Section T√©moignages -->
  <section class="testimonials">
    <h2 class="section-title">Ce que disent nos utilisateurs</h2>
    <div class="testimonial-cards">
      <div class="testimonial-card">
        <div class="testimonial-content">
          <p>"E-Charge a compl√®tement transform√© ma fa√ßon de g√©rer mes d√©placements en voiture √©lectrique. Je n'ai plus d'anxi√©t√© li√©e √† l'autonomie!"</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.1&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="Jean Dupont" />
          </div>
          <div class="author-info">
            <h4>Jean Dupont</h4>
            <p>Propri√©taire de Tesla Model 3</p>
          </div>
        </div>
      </div>
      
      <div class="testimonial-card">
        <div class="testimonial-content">
          <p>"L'application est tr√®s intuitive et la possibilit√© de r√©server √† l'avance est vraiment pratique. Je recommande!"</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">
            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.1&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="Marie Leroy" />
          </div>
          <div class="author-info">
            <h4>Marie Leroy</h4>
            <p>Propri√©taire de Renault Zoe</p>
          </div>
        </div>
      </div>
      
      <div class="testimonial-card">
        <div class="testimonial-content">
          <p>"Gr√¢ce √† E-Charge, je peux planifier mes trajets longue distance en toute s√©r√©nit√©. Le service client est √©galement tr√®s r√©actif."</p>
        </div>
        <div class="testimonial-author">
          <div class="author-avatar">
            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.1&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="Pierre Martin" />
          </div>
          <div class="author-info">
            <h4>Pierre Martin</h4>
            <p>Propri√©taire de Peugeot e-208</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section CTA -->
  <section class="cta cta-with-bg">
    <div class="cta-content">
      <h2>Pr√™t √† rejoindre la r√©volution √©lectrique?</h2>
      <p>Cr√©ez votre compte gratuitement et commencez √† utiliser nos services d√®s aujourd'hui.</p>
      <a routerLink="/auth/register" class="btn btn-primary">S'inscrire maintenant</a>
    </div>
  </section>
</div> 