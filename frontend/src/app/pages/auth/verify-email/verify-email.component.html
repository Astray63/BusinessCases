<div class="verify-email-page">
  <!-- Background avec effet gradient -->
  <div class="background-overlay"></div>
  
  <!-- Contenu principal -->
  <div class="verify-content">
    <div class="verify-card">
      <!-- En-t√™te avec ic√¥ne -->
      <div class="card-header">
        <div class="icon-wrapper">
          <div class="icon-circle">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16">
              <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
            </svg>
          </div>
        </div>
        <h1>Validez votre compte</h1>
        <p class="subtitle">
          Nous avons envoy√© un code de v√©rification √†
        </p>
        <p class="email-display">{{ email }}</p>
      </div>

      <!-- Formulaire -->
      <form [formGroup]="verificationForm" (ngSubmit)="onSubmit()" class="verification-form">
        <div class="form-group">
          <label for="code">Code de v√©rification</label>
          <input
            type="text"
            id="code"
            formControlName="code"
            class="form-control"
            placeholder="000000"
            maxlength="6"
            (input)="onCodeInput($event)"
            [class.is-invalid]="verificationForm.get('code')?.invalid && verificationForm.get('code')?.touched"
          />
          <div class="invalid-feedback" *ngIf="verificationForm.get('code')?.invalid && verificationForm.get('code')?.touched">
            <span *ngIf="verificationForm.get('code')?.errors?.['required']">Le code est obligatoire</span>
            <span *ngIf="verificationForm.get('code')?.errors?.['pattern']">Le code doit contenir exactement 6 chiffres</span>
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-primary btn-block"
          [disabled]="verificationForm.invalid || isLoading"
        >
          <span *ngIf="!isLoading">Valider mon compte</span>
          <span *ngIf="isLoading">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            V√©rification en cours...
          </span>
        </button>
      </form>

      <!-- Actions secondaires -->
      <div class="footer-actions">
        <div class="divider">
          <span>ou</span>
        </div>
        
        <div class="action-buttons">
          <button
            type="button"
            class="btn btn-secondary"
            (click)="resendCode()"
            [disabled]="isResending"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
              <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
            </svg>
            <span *ngIf="!isResending">Renvoyer le code</span>
            <span *ngIf="isResending">Envoi en cours...</span>
          </button>

          <button
            type="button"
            class="btn btn-outline"
            (click)="backToLogin()"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            Retour √† la connexion
          </button>
        </div>
      </div>
    </div>

    <!-- Informations additionnelles -->
    <div class="help-section">
      <div class="help-card">
        <div class="help-icon">üí°</div>
        <h3>Conseil</h3>
        <p>V√©rifiez votre dossier spam si vous ne trouvez pas l'email</p>
      </div>
      <div class="help-card">
        <div class="help-icon">‚è±Ô∏è</div>
        <h3>Validit√©</h3>
        <p>Le code est valable pendant 15 minutes</p>
      </div>
      <div class="help-card">
        <div class="help-icon">üîí</div>
        <h3>S√©curit√©</h3>
        <p>Ne partagez jamais votre code de v√©rification</p>
      </div>
    </div>
  </div>
</div>
