<header class="site-header">
  <div class="container">
    <div class="logo">
      <a routerLink="/">
        <i class="bi bi-lightning-charge-fill"></i>
        <span class="logo-text">Electricity Business</span>
      </a>
    </div>
    
    <nav class="main-nav" [class.active]="isMenuOpen">
      <ul class="nav-list">
        <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <i class="bi bi-house-fill"></i>
          <span>Accueil</span>
        </a></li>
        
        <li><a routerLink="/bornes" routerLinkActive="active">
          <i class="bi bi-search"></i>
          <span>Trouver une borne</span>
        </a></li>
        
        <ng-container *ngIf="!currentUser">
          <li><a routerLink="/auth/login" routerLinkActive="active" class="nav-link">
            <i class="bi bi-box-arrow-in-right"></i>
            <span>Connexion</span>
          </a></li>
          <li><a routerLink="/auth/register" routerLinkActive="active" class="btn-primary">
            <i class="bi bi-person-plus-fill"></i>
            <span>Inscription</span>
          </a></li>
        </ng-container>
        
        <ng-container *ngIf="currentUser">
          <li><a routerLink="/dashboard" routerLinkActive="active">
            <i class="bi bi-speedometer2"></i>
            <span>Tableau de bord</span>
          </a></li>
          
          <li><a routerLink="/reservation" routerLinkActive="active">
            <i class="bi bi-calendar-check-fill"></i>
            <span>Réservations</span>
          </a></li>
          
          <li class="dropdown" [class.open]="isDropdownOpen">
            <a class="dropdown-toggle" (click)="toggleDropdown($event)">
              <i class="bi bi-person-circle"></i>
              <span>{{ currentUser.prenom }}</span>
              <i class="bi bi-chevron-down chevron"></i>
            </a>
            <ul class="dropdown-menu">
              <li class="dropdown-header">
                <strong>{{ currentUser.prenom }} {{ currentUser.nom }}</strong>
                <small>{{ currentUser.email }}</small>
              </li>
              <li class="dropdown-divider"></li>
              <li><a routerLink="/profile" (click)="closeDropdown()">
                <i class="bi bi-person-fill"></i>
                Mon profil
              </a></li>
              <li><a routerLink="/lieux" (click)="closeDropdown()">
                <i class="bi bi-geo-alt-fill"></i>
                Mes lieux
              </a></li>
              <li *ngIf="currentUser.role === 'proprietaire' || currentUser.role === 'admin'">
                <a routerLink="/bornes/ajouter" (click)="closeDropdown()">
                  <i class="bi bi-lightning-charge-fill"></i>
                  Ajouter une borne
                </a>
              </li>
              <li *ngIf="currentUser.role === 'admin'">
                <a routerLink="/admin" (click)="closeDropdown()">
                  <i class="bi bi-shield-fill-check"></i>
                  Administration
                </a>
              </li>
              <li class="dropdown-divider"></li>
              <li><a (click)="logout()" class="logout-link">
                <i class="bi bi-box-arrow-right"></i>
                Déconnexion
              </a></li>
            </ul>
          </li>
        </ng-container>
      </ul>
    </nav>
    
    <button class="mobile-toggle" (click)="toggleMenu()" [class.active]="isMenuOpen" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</header> 